{
	// Use IntelliSense to learn about possible attributes.
	// Hover to view descriptions of existing attributes.
	// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
	"version": "0.2.0",
	"configurations": [
		{
			"type": "node",
			"request": "launch",
			"name": "Debug CDK synth app",
			"runtimeExecutable": "${env:NVM_BIN}/cdk",
			"cwd": "${workspaceFolder}",
			"console": "internalConsole",
			"sourceMaps": true,
			"skipFiles": ["<node_internals>/**/*"],
			"port": 23933,
			"outFiles": ["${workspaceFolder}/**/*.js"],
			"env": {
				"CDK_DEFAULT_ACCOUNT": "000000000000",
				"CDK_DEFAULT_REGION": "us-east-1"
			},
			"runtimeArgs": [
				"--app",
				"node -r ./node_modules/ts-node/register/transpile-only --inspect-brk=23933 -e \"require('${workspaceFolder}/bin/cdk.ts')\""
			],
			"args": [
				"synth",
				"Sputnik-App",
				"-c",
				"RepositoryBranch=feature/dev-$USER",
				"-c",
				"AdministratorEmail=$USER_EMAIL"
			]
		},
		{
			// see: https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/serverless-sam-cli-using-debugging-nodejs.html
			"name": "Debug Lambda Locally",
			"type": "node",
			"request": "attach",
			"address": "localhost",
			"port": 5858,
			"localRoot": "${fileDirname}",
			"remoteRoot": "/var/task",
			"protocol": "inspector",
			"stopOnEntry": false
		}
	]
}
